(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),l=(a(26),a(7)),o=a(1),i=a(9),m=a.n(i),u=a(11),p=a(6),b="https://www.omdbapi.com/?apikey=".concat("e356a1e","&type=movie"),E=r.a.createContext(),f=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(p.a)(a,2),s=c[0],l=c[1],o=Object(n.useState)("batman"),i=Object(p.a)(o,2),f=i[0],v=i[1],d=Object(n.useState)({show:!1,message:""}),h=Object(p.a)(d,2),j=h[0],O=h[1],g=Object(n.useCallback)(Object(u.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"&s=").concat(f));case 2:return t=e.sent,e.next=5,t.json();case 5:"True"===(a=e.sent).Response?l(a.Search):O({show:!0,message:a.Error});case 7:case"end":return e.stop()}}),e)}))),[f]);return Object(n.useEffect)((function(){g()}),[g]),r.a.createElement(E.Provider,{value:{movies:s,query:f,setQuery:v,error:j}},t)},v=function(){return Object(n.useContext)(E)},d=function(){var e=v(),t=e.query,a=e.setQuery,n=e.error;return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"search-form"},r.a.createElement("h2",null,"search movies"),r.a.createElement("input",{type:"text",className:"form-input",value:t,onChange:function(e){return a(e.target.value)}}),n.show&&r.a.createElement("div",{className:"error"},n.message))},h=function(){var e=v().movies;return r.a.createElement("section",{className:"movies"},e.map((function(e){return r.a.createElement(l.b,{to:"/movies/".concat(e.imdbID),key:e.imdbID,className:"movie"},r.a.createElement("article",null,r.a.createElement("img",{src:"N/A"===e.Poster?"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png":e.Poster,alt:e.Title})),r.a.createElement("div",{className:"movie-info"},r.a.createElement("h4",{className:"title"},e.Title),r.a.createElement("p",null,e.Year)))})))},j=function(){return r.a.createElement("main",null,r.a.createElement(d,null),r.a.createElement(h,null))},O=a(20),g=a.n(O),w=function(){var e=Object(o.f)().id,t=Object(n.useState)(!1),a=Object(p.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)({}),E=Object(p.a)(i,2),f=E[0],v=E[1],d=Object(n.useState)({show:!1,message:""}),h=Object(p.a)(d,2),j=h[0],O=h[1],w=Object(n.useCallback)(Object(u.a)(m.a.mark((function t(){var a,n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(b,"&i=").concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:"True"===(n=t.sent).Response?v(n):O({show:!0,message:n.Error}),s(!0);case 8:case"end":return t.stop()}}),t)}))),[e]);Object(n.useEffect)((function(){w()}),[w]);return c?j.show?r.a.createElement("div",{className:"page-error"},r.a.createElement("h1",null,j.message),r.a.createElement(l.b,{to:"/",className:"btn"},"back to movies")):r.a.createElement("section",{className:"single-movie"},r.a.createElement("img",{src:"N/A"===f.Poster?"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png":f.Poster,alt:f.Title}),r.a.createElement("div",{className:"single-movie-info"},r.a.createElement("h2",null,f.Title),r.a.createElement("p",null,f.Plot),r.a.createElement("h4",null,f.Year),r.a.createElement(l.b,{to:"/",className:"btn"},"back to movies"))):r.a.createElement(g.a,{cssOverride:{display:"block",margin:"100px auto"},size:150,"aria-label":"Loading Spinner","data-testid":"loader"})};var N=function(){return r.a.createElement(l.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(j,null)),r.a.createElement(o.a,{path:"/movies/:id"},r.a.createElement(w,null))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null,r.a.createElement(N,null))),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.78ee53ca.chunk.js.map