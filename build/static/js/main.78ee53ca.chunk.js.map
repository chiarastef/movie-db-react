{"version":3,"sources":["context.js","SearchForm.js","Movies.js","Home.js","SingleMovie.js","App.js","index.js"],"names":["API_ENDPOINT","process","AppContext","React","createContext","AppProvider","children","useState","movies","setMovies","query","setQuery","show","message","error","setError","fetchData","useCallback","a","fetch","response","json","data","Response","Search","Error","useEffect","Provider","value","useGlobalContext","useContext","SearchForm","onSubmit","e","preventDefault","className","type","onChange","target","Movies","map","movie","to","imdbID","key","src","Poster","alt","Title","Year","Home","SingleMovie","id","useParams","loaded","setLoaded","setMovie","Plot","cssOverride","display","margin","size","aria-label","data-testid","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78ee53ca.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from \"react\";\n\nexport const API_ENDPOINT = `https://www.omdbapi.com/?apikey=${process.env.REACT_APP_MOVIE_API_KEY}&type=movie`;\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState(\"batman\");\n  const [error, setError] = useState({ show: false, message: \"\" });\n\n  const fetchData = useCallback(async () => {\n    const response = await fetch(`${API_ENDPOINT}&s=${query}`);\n    const data = await response.json();\n\n    if (data.Response === \"True\") {\n      setMovies(data.Search);\n    } else {\n      setError({ show: true, message: data.Error });\n    }\n  }, [query]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return (\n    <AppContext.Provider value={{ movies, query, setQuery, error }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst SearchForm = () => {\n  const { query, setQuery, error } = useGlobalContext();\n\n  return (\n    <form onSubmit={(e) => e.preventDefault()} className=\"search-form\">\n      <h2>search movies</h2>\n      <input\n        type=\"text\"\n        className=\"form-input\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n      />\n      {error.show && <div className=\"error\">{error.message}</div>}\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nimport { Link } from \"react-router-dom\";\nconst url =\n  \"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png\";\n\nconst Movies = () => {\n  const { movies } = useGlobalContext();\n\n  return (\n    <section className=\"movies\">\n      {movies.map((movie) => {\n        return (\n          <Link\n            to={`/movies/${movie.imdbID}`}\n            key={movie.imdbID}\n            className=\"movie\"\n          >\n            <article>\n              <img\n                src={movie.Poster === \"N/A\" ? url : movie.Poster}\n                alt={movie.Title}\n              />\n            </article>\n            <div className=\"movie-info\">\n              <h4 className=\"title\">{movie.Title}</h4>\n              <p>{movie.Year}</p>\n            </div>\n          </Link>\n        );\n      })}\n    </section>\n  );\n};\n\nexport default Movies;\n","import React from \"react\";\nimport Form from \"./SearchForm\";\nimport Movies from \"./Movies\";\nconst Home = () => {\n  return (\n    <main>\n      <Form />\n      <Movies />\n    </main>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { API_ENDPOINT } from \"./context\";\n\nconst url =\n  \"https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png\";\n\nconst SingleMovie = () => {\n  const { id } = useParams();\n\n  const [loaded, setLoaded] = useState(false);\n  const [movie, setMovie] = useState({});\n  const [error, setError] = useState({ show: false, message: \"\" });\n\n  const fetchData = useCallback(async () => {\n    const response = await fetch(`${API_ENDPOINT}&i=${id}`);\n    const data = await response.json();\n\n    if (data.Response === \"True\") {\n      setMovie(data);\n    } else {\n      setError({ show: true, message: data.Error });\n    }\n\n    setLoaded(true);\n  }, [id]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const style = {\n    display: \"block\",\n    margin: \"100px auto\",\n  };\n\n  if (!loaded) {\n    return (\n      <ClipLoader\n        cssOverride={style}\n        size={150}\n        aria-label=\"Loading Spinner\"\n        data-testid=\"loader\"\n      />\n    );\n  }\n\n  if (error.show) {\n    return (\n      <div className=\"page-error\">\n        <h1>{error.message}</h1>\n        <Link to=\"/\" className=\"btn\">\n          back to movies\n        </Link>\n      </div>\n    );\n  }\n\n  return (\n    <section className=\"single-movie\">\n      <img\n        src={movie.Poster === \"N/A\" ? url : movie.Poster}\n        alt={movie.Title}\n      />\n      <div className=\"single-movie-info\">\n        <h2>{movie.Title}</h2>\n        <p>{movie.Plot}</p>\n        <h4>{movie.Year}</h4>\n        <Link to=\"/\" className=\"btn\">\n          back to movies\n        </Link>\n      </div>\n    </section>\n  );\n};\n\nexport default SingleMovie;\n","import React from \"react\";\nimport { Switch, Route, BrowserRouter as Router } from \"react-router-dom\";\n\nimport Home from \"./Home\";\nimport Movie from \"./SingleMovie\";\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/movies/:id\">\n          <Movie />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}